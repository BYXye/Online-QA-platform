>   本型项目采用线程池设计，并利用生产者-消费者模型解决临界资源问题，实现在线人数最多50人的问答平台。

# 基于线程池的在线问答平台

#### 开发环境

-   开发平台：Ubuntu 16.04.1 LTS

-   工具：gedit 3.18.3、vim 7.4


-   语言：C语言


-   调试工具：gcc 5.4.0、gdb 7.11.11

#### 说明

1. 如果使用该项目出现问题，请联系我 byx15257661932@163.com
2. 如果该项目对您有帮助,请star鼓励我

#### 模块划分

1. 客户端负责注册名字以及收发消息
2. 服务端负责开启线程池、等待客户端连接。接收客户端消息，并且转发给其他客户端。

#### 开发过程

1.   本项目实现了多个客户端之间的收发消息，每个客户端都需要有一个属于自己的流通道，因此使用多线程。
2.   为了平衡服务端等待连接和服务端转发消息的处理能力，使用生产者消费者模型达到数据缓存的作用。
3.   生产者和消费者都隶属于服务器，生产者只负责等待客户端的连接，消费者负责接收客户端的消息并发送给其他客户端。

#### 所犯错误

1.   客户端收发消息是一个并行关系，是同时进行的，因此必须开一个新的进程，使得两个进程分别执行读取和发送的功能。

2.   线程会发生资源竞争，而本项目又是一个多线程项目，因此为了保证共享资源在任意时间里，只有一个线程访问，要对生产和消费过程加上互斥锁。

#### 项目收获

1.   线程池一般用于执行多个不相关联的耗时任务，没有多线程的情况下，任务顺序执行，使用了线程池的话可让多个不相关联的任务同时执行。
2.   对互斥锁进行加锁后，任何其他试图再次对互斥锁加锁的线程将会被阻塞，直到锁被释放。对互斥锁进行加锁后，任何其他试图再次对互斥锁加锁的线程将会被阻塞，直到锁被释放。
3.   重点在于分清楚线程的入口函数与业务逻辑函数，入口函数只负责创建线程，而具体的功能实现，要在入口函数中调用相应的业务逻辑函数。